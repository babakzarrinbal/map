(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)s=o[p],a[s]&&d.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/map/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"07d1":function(t,e,n){"use strict";var i=n("ab4a"),a=n.n(i);a.a},1449:function(t,e,n){"use strict";n.r(e),function(t){var e=n("795b"),i=n.n(e),a=(n("96cf"),n("3b8d"));n("cadf"),n("551c"),n("f751"),n("097d");t.delay=function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new i.a(function(t){return setTimeout(t,e)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),window.Math.bzround=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return window.Math.round(t*window.Math.pow(10,e))/window.Math.pow(10,e)},window.distanceinmath=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"km";if(!t||!e)return null;var i=.017453292519943295,a=Math.cos,r=.5-a((e.lat-t.lat)*i)/2+a(t.lat*i)*a(e.lat*i)*(1-a((e.lng-t.lng)*i))/2;return"ml"==n?7920*Math.asin(Math.sqrt(r)):"km"==n?12742*Math.asin(Math.sqrt(r)):0}}.call(this,n("c8ba"))},"400e":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var i;n("cadf"),n("551c"),n("f751"),n("097d");i={socket:{url:"https://diliviri.com/",namespace:"superadmin"}};var a=i,r=(n("ab8b"),n("61e3"),n("87b8"),n("9180"),n("2b0e")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"opacity"}},[n("div",{staticStyle:{widht:"100vw",height:"100%"},attrs:{id:"app"}},[n("div",{attrs:{id:"mainloader"}}),n("div",{staticStyle:{position:"relative",height:"100%"}},[n("div",{attrs:{id:"header"}},[n("datefilter",{on:{changed:t.getdata}}),n("div",{staticClass:"float-right",staticStyle:{float:"right",height:"30px",width:"30px",padding:"4px"},on:{click:function(e){t.settingvis=!0}}},[n("img",{staticStyle:{height:"calc(100% - 6px)",padding:"0 3px"},attrs:{src:"/img/icons/menu.png",alt:""}})]),n("div",{staticClass:"clearfix"})],1),n("transition",{attrs:{name:"slideleft"}},[t.settingvis?n("settings",{on:{hide:function(e){t.settingvis=0}}}):t._e()],1),n("transition",{attrs:{name:"component-"+t.transisionname}},[n("keep-alive",[t.$route.meta.keepAlive?n("router-view",{staticClass:"container mainrouteview",attrs:{id:"pagecontainer"}}):t._e()],1)],1),n("div",{staticClass:"d-flex justify-content-around",attrs:{id:"nav"}},[n("a",{class:{"router-link-exact-active router-link-active":1==t.$route.meta.mainindex},on:{click:function(e){return t.nav(e,"/")}}},[t._v("Dashboard")]),n("a",{class:{"router-link-exact-active router-link-active":2==t.$route.meta.mainindex},on:{click:function(e){return t.nav(e,"/drivers")}}},[t._v("Drivers")]),n("a",{class:{"router-link-exact-active router-link-active":3==t.$route.meta.mainindex},on:{click:function(e){return t.nav(e,"/merchants")}}},[t._v("Merchants")])])],1)])])},o=[],c=n("cebc"),l=(n("a481"),n("96cf"),n("3b8d")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"settings"},on:{click:function(e){return t.hideme()}}},[n("div",{staticClass:"window",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"btn btn-danger",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){return t.logout()}}},[t._v("logout")]),n("div",{staticClass:"btn btn-warning mt-2",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){return t.updateapp()}}},[t._v("Update/reset")]),n("div",{staticClass:"btn btn-info mt-2",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){t.showpassform=!t.showpassform}}},[t._v("change password")]),t.showpassform?n("div",{staticClass:"my-2 mx-auto",staticStyle:{width:"calc(100% - 10px)"}},[n("div",{staticClass:"form-group",staticStyle:{position:"relative"}},["checkbox"===(t.showoldpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:"checkbox"},domProps:{checked:Array.isArray(t.oldpass)?t._i(t.oldpass,null)>-1:t.oldpass},on:{change:function(e){var n=t.oldpass,i=e.target,a=!!i.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);i.checked?s<0&&(t.oldpass=n.concat([r])):s>-1&&(t.oldpass=n.slice(0,s).concat(n.slice(s+1)))}else t.oldpass=a}}}):"radio"===(t.showoldpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:"radio"},domProps:{checked:t._q(t.oldpass,null)},on:{change:function(e){t.oldpass=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:t.showoldpass?"text":"password"},domProps:{value:t.oldpass},on:{input:function(e){e.target.composing||(t.oldpass=e.target.value)}}}),n("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"2px",top:"4px"},attrs:{src:"/img/icon/"+(t.showoldpass?"not":"")+"see.png"},on:{click:function(e){t.showoldpass=!t.showoldpass}}})]),n("div",{staticClass:"form-group",staticStyle:{position:"relative"}},["checkbox"===(t.shownewpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"checkbox"},domProps:{checked:Array.isArray(t.newpass)?t._i(t.newpass,null)>-1:t.newpass},on:{change:function(e){var n=t.newpass,i=e.target,a=!!i.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);i.checked?s<0&&(t.newpass=n.concat([r])):s>-1&&(t.newpass=n.slice(0,s).concat(n.slice(s+1)))}else t.newpass=a}}}):"radio"===(t.shownewpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"radio"},domProps:{checked:t._q(t.newpass,null)},on:{change:function(e){t.newpass=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:t.shownewpass?"text":"password"},domProps:{value:t.newpass},on:{input:function(e){e.target.composing||(t.newpass=e.target.value)}}}),n("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"2px",top:"4px"},attrs:{src:"/img/icon/"+(t.shownewpass?"not":"")+"see.png"},on:{click:function(e){t.shownewpass=!t.shownewpass}}})]),n("div",{staticClass:"btn btn-success mt-2",staticStyle:{width:"calc(100% - 30px)"},on:{click:function(e){return t.savepassword()}}},[t._v("\n        save\n        "),t.savingpassword?n("img",{staticClass:"loader",staticStyle:{margin:"-15px 0"},attrs:{src:"img/rings.svg"}}):t._e()])]):t._e()])])},p=[],d={name:"settings",data:function(){return{showpassform:!1,shownewpass:!1,showoldpass:!1,savingpassword:!1,oldpass:null,newpass:null}},created:function(){},methods:{hideme:function(){this.$emit("hide")},logout:function(){window.localStorage.setItem("api_token",null),this.$root.user=null,this.socketreconnect(),this.hideme()},updateapp:function(){window.location.reload(!0)},savepassword:function(){var t=this;if(!t.savingpassword){if(!t.newpass)return window.toastr.warning("new password is not filled");t.savingpassword=!0,t.socketcall("users/changepass",{newpass:t.newpass,oldpass:t.oldpass}).then(function(e){if(t.savingpassword=!1,e.error)return window.toastr.error((e.error||{}).message||"couldn't save new password");window.toastr.success("password changed!"),t.oldpass=null,t.newpass=null,t.showpassform=!1})}}},computed:{}},h=d,m=(n("07d1"),n("2877")),f=Object(m["a"])(h,u,p,!1,null,"6d4afb1c",null),v=f.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"float-left",staticStyle:{width:"calc(100% - 50px)"}},[n("div",{staticClass:"filters d-flex flex-column"},[n("div",{staticClass:"simpledatefilter"},[n("div",{staticClass:"form-group mb-0"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.simplefilterval,expression:"simplefilterval"}],staticClass:"form-control float-left bg-transparent border-0",staticStyle:{height:"30px",width:"130px","box-shadow":"none"},on:{click:function(e){t.showcustomfilter="custom"==t.simplefilterval},change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.simplefilterval=e.target.multiple?n:n[0]},function(e){return t.simplefilter()}]}},[n("option",{attrs:{value:"today"}},[t._v("Today")]),n("option",{attrs:{value:"yesterday"}},[t._v("Yesterday")]),n("option",{attrs:{value:"thisweek"}},[t._v("This week")]),n("option",{attrs:{value:"pastweek"}},[t._v("Past week")]),n("option",{attrs:{value:"thismonth"}},[t._v("This Month")]),n("option",{attrs:{value:"pastmonth"}},[t._v("Past Month")]),n("option",{staticStyle:{"background-color":"#fae0fb","font-weight":"bold"},attrs:{value:"custom"}},[t._v("Custom")])]),n("div",{staticClass:"btn-link small text-right mt-1 float-left ml-2",on:{click:function(e){t.showfiltersetting=!t.showfiltersetting}}},[t._v("Setting")])])]),t.showfiltersetting?n("div",{staticClass:"datepicker d-flex m-2 pb-2",class:{"border-bottom border-primary":t.showfiltersetting&&t.showcustomfilter}},[n("span",{staticStyle:{width:"150px","text-align":"left"}},[t._v("Day split time:")]),n("datetime",{attrs:{type:"time",inputClass:"timeinput","use12-hour":"",format:"hh:mm a"},model:{value:t.filterdates.daystarttime,callback:function(e){t.$set(t.filterdates,"daystarttime",e)},expression:"filterdates.daystarttime"}})],1):t._e(),t.showcustomfilter?n("div",{staticClass:"customdatefilter m-2"},[n("div",{},[n("div",{staticClass:"datepicker d-flex mt-2"},[n("span",{staticStyle:{width:"100px","text-align":"left"}},[t._v("From:")]),n("datetime",{staticClass:"dateinput",attrs:{inputClass:"dateinput",type:"datetime",format:"ccc MMM dd, yyyy  HH:mm"},model:{value:t.filterdates.startdate,callback:function(e){t.$set(t.filterdates,"startdate",e)},expression:"filterdates.startdate"}})],1),n("div",{staticClass:"datepicker d-flex mt-2"},[n("span",{staticStyle:{width:"100px","text-align":"left"}},[t._v("To:")]),n("datetime",{attrs:{inputClass:"dateinput",type:"datetime",format:"ccc MMM dd, yyyy  HH:mm"},on:{click:function(t){t.stopPropagation()}},model:{value:t.filterdates.finishdate,callback:function(e){t.$set(t.filterdates,"finishdate",e)},expression:"filterdates.finishdate"}})],1)]),n("div",{staticClass:"btn btn-info mt-4",staticStyle:{"min-width":"50%"},on:{click:function(e){return t.filtershifts()}}},[t._v("Apply")])]):t._e()])])},g=[],y=n("859b"),b=(n("d355"),{name:"datefilter",data:function(){return{filterdates:{finishdate:(new Date).toISOString(),daystarttime:new Date("1 1 2019 6:00 am").toISOString(),startdate:new Date((new Date).setHours(new Date("1 1 2019 6:00 am").getHours(),new Date("1 1 2019 6:00 am").getMinutes(),0,0)).toISOString()},showcustomfilter:!1,showfiltersetting:!1,simplefilterval:"today"}},components:{Datetime:y["Datetime"]},created:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=new Date(this.filterdates.startdate),e>new Date&&(this.filterdates.startdate=new Date(e.getTime()-864e5).toISOString()),this.filtershifts();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{simplefilter:function(){var t=this.simplefilterval;if("custom"!=t){var e=new Date,n=new Date(this.filterdates.daystarttime),i=new Date((new Date).setHours(n.getHours(),n.getMinutes(),0,0));if(e<i&&i.setDate(i.getDate()-1),"today"==t)this.filterdates.startdate=i.toISOString(),this.filterdates.finishdate=e.toISOString();else if("yesterday"==t){var a=new Date(i.getTime());a.setDate(i.getDate()-1),this.filterdates.startdate=a.toISOString(),this.filterdates.finishdate=i.toISOString()}else if("thisweek"==t){var r=new Date(i.getTime());r.setDate(i.getDate()-i.getDay()+1),e<r&&r.setDate(r.getDate()-7),this.filterdates.startdate=r.toISOString(),this.filterdates.finishdate=e.toISOString()}else if("pastweek"==t){var s=new Date(i.getTime());s.setDate(i.getDate()-i.getDay()+1),e<s&&s.setDate(s.getDate()-7);var o=new Date(i.getTime());o.setDate(s.getDate()-7),this.filterdates.startdate=o.toISOString(),this.filterdates.finishdate=s.toISOString()}else if("thismonth"==t){var c=new Date(i.getFullYear(),i.getMonth(),1,i.getHours(),i.getMinutes(),0);this.filterdates.startdate=c.toISOString(),this.filterdates.finishdate=e.toISOString()}else if("pastmonth"==t){var l=new Date(i.getFullYear(),i.getMonth(),1,i.getHours(),i.getMinutes(),0),u=i.getMonth(),p=new Date(i.getFullYear()-(u?0:1),u?i.getMonth()-1:12,1,i.getHours(),i.getMinutes(),0);this.filterdates.startdate=p.toISOString(),this.filterdates.finishdate=l.toISOString()}this.filtershifts()}},filtershifts:function(){this.showcustomfilter=!1,this.showfiltersetting=!1,this.$emit("changed",this.filterdates)}},computed:{},watch:{}}),x=b,k=(n("b191"),Object(m["a"])(x,w,g,!1,null,null,null)),C=k.exports,A={data:function(){return{userresolved:!1,settingvis:!1,transisionname:"slideleft"}},components:{settings:v,datefilter:C},created:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{nav:function(t,e){var n=this.$route.meta.mainindex,i=this.$router.resolve(e).route.meta.mainindex;n!==i&&(this.transisionname=n>i?"slideright":"slideleft",this.$router.push(e))},queryhandeler:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n="string"==e.type?JSON.parse(e.data):e,n){t.next=3;break}return t.abrupt("return");case 3:i=this.$router,i.replace(Object(c["a"])({},i.currentRoute,{query:null}));case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},watch:{},computed:{}},S=A,O=(n("5c0b"),Object(m["a"])(S,s,o,!1,null,null,null)),_=O.exports,D=n("8c4f"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home w-100 px-0"},[n("olmap",{attrs:{oljspath:"/vendors/openlayer.v.5.3.0/script.js",olcsspath:"/vendors/openlayer.v.5.3.0/style.css",locations:t.locations,lines:{width:5,color:"red",images:[{src:"/img/arrow.png"},{src:"/img/arrow.png"}]},click:t.clicktoshow,locationiqkey:"188e59707db08f",showme:!0,searchable:"true"},on:{locationselected:t.selectedlocationchange}})],1)},M=[],L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"olmap-container"}},[n("div",{attrs:{id:"olmap"}}),t.searchable?n("div",{attrs:{id:"olsearch"}},[n("div",{staticClass:"boxcontainer"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search.text,expression:"search.text"}],staticClass:"searchinput",attrs:{type:"text",placeholder:"Post Code"},domProps:{value:t.search.text},on:{keyup:function(e){13==e.keyCode?t.selectlocation():t.searchlocation()},input:function(e){e.target.composing||t.$set(t.search,"text",e.target.value)}}}),t.search.text?n("div",{staticClass:"ol-clearsearchbox",on:{click:t.clearselect}},[t._v("x")]):t._e(),n("div",{staticClass:"locateme",on:{click:function(e){return t.locateme()}}},[t._v("•")]),n("div",{staticClass:"autoresults"},t._l(t.search.autocompleteresult,function(e,i){return n("div",{key:i,staticClass:"autoresult",attrs:{title:e.display_address},on:{click:function(n){return t.selectlocation(e)}}},[t._v(t._s(e.address.postcode)+", "+t._s(e.display_address))])}),0)])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.popup.show,expression:"popup.show"}],attrs:{id:"olmap-popup"}},[n("div",{staticClass:"detail"},[n("div",{staticClass:"popupcontent"},[n("div",{staticClass:"header"},[n("h5",{staticStyle:{margin:"0","text-transform":"capitalize"}},[t._v(t._s(t.popup.title))]),n("span",{staticClass:"closebtn",on:{click:t.clearselect}},[t._v("x")])]),t.popup.location?n("div",{staticClass:"content"},[n("span",[t._v(t._s(t.popup.location))])]):n("div",[n("svg",{attrs:{width:"40",height:"10",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"#222"}},[n("circle",{attrs:{cx:"15",cy:"15",r:"15"}},[n("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),n("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"}},[n("animate",{attrs:{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}}),n("animate",{attrs:{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"105",cy:"15",r:"15"}},[n("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),n("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})])])])])])]),n("div",{attrs:{id:"lineinfo"}}),void 0==t.showme||t.showme?n("div",{attrs:{id:"ol-showme"},on:{click:function(e){return t.pantome()}}},[t._v("•")]):t._e(),n("div",{attrs:{id:"ol-showall"},on:{click:function(e){return t.showall()}}},[t._v("[ ]")])])},R=[],E=n("59ad"),P=n.n(E),T=(n("386d"),n("8449"),n("75fc")),I=n("a745"),N=n.n(I),q=n("5d73"),F=n.n(q),Q=(n("7514"),n("ac6a"),n("795b")),J=n.n(Q),U={data:function(){var t=window.ol,e=null,n=null,i=new J.a(function(t,i){e=t,n=i});return{init:{initiated:t,runned:!1,resolveInitPromise:e,rejectInitPromise:n,initPromise:i},popup:{location:"",title:"",show:!1},pins:[],search:{text:"",autocompleteresult:[],selectedlocation:null,element:null,overlay:null},me:{location:null,overlay:null,visible:!0}}},props:["oljspath","olcsspath","click","locations","lines","searchable","locationiqkey","showme"],created:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initation();case 2:this.olmap=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initation();case 2:this.olmap=t.sent,e=this.olmap,n="http://mt.google.com/vt/lyrs=m@221097413,traffic&x={x}&y={y}&z={z}",i=new e.layer.Tile({source:new e.source.OSM({url:n})}),window.baselayer=i,this.map=new e.Map({controls:[],layers:[i],target:"olmap",view:new e.View({center:e.proj.fromLonLat([-.1318,50.845]),zoom:12,minZoom:2,maxZoom:28})}),this.locations&&this.draw(),(this.click||this.searchable)&&this.bindpopup(),this.me.visible=void 0==this.showme||this.showme,this.showhideme();case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{initation:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,n,i,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.init,!e.initiated){t.next=3;break}return t.abrupt("return",new J.a(function(t){return t(e.initiated)}));case 3:if(!e.runned){t.next=5;break}return t.abrupt("return",e.initPromise);case 5:return e.runned=!0,n=document.querySelector("head"),i=document.createElement("link"),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",this.olcsspath||"https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css"),n.appendChild(i),a=document.createElement("script"),a.async=!0,a.defer=!0,a.src=this.oljspath||"https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js",r=function t(){if(!window.ol)return window.setTimeout(t,500);e.resolveInitPromise(window.ol)},a.onload=r,a.onerror=e.rejectInitPromise,n.appendChild(a),t.abrupt("return",e.initPromise);case 21:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),draw:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,n,i,a,r,s,o,l,u,p,d,h,m,f,v,w,g,y,b,x,k,C,A,S,O,_=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.olmap,n=e.Overlay,i=e.proj.fromLonLat,a=e.geom.Point,r=function(t){var e=t.target.closest(".ol-overlay-container"),n=e.parentElement.getElementsByClassName("ol-pin-active")[0];n&&n.classList.remove("ol-pin-active"),e.classList.add("ol-pin-active");var i=t.target.closest(".olpins");if(i){var a=i.querySelector(".olpin-popup"),r=i.querySelector(".olpin-popup .popup-container");a.style.display=r.innerHTML&&"none"==a.style.display?"flex":"none"}},this.pins.forEach(function(t){_.locations.find(function(e){return e.id==t.id})||(_.map.removeOverlay(t.overlay),t=null)}),s=!0,o=!1,l=void 0,t.prev=9,u=function(){var t=d.value;if(!t.lng||!t.lat)return"continue";var e=i([t.lng,t.lat]),a=_.pins.find(function(e){return e.id==t.id});if(!a){var s=document.createElement("div");s.id="olpins-"+t.id,a={id:t.id,domElement:s};var o=document.createElement("div");o.classList=["olpin"];var c=document.createElement("img");c.classList=["olpin-img"],o.appendChild(c),s.appendChild(o);var l=document.createElement("div");l.classList=["olpin-popup"],l.style.display="none";var u=document.createElement("div");u.classList=["popup-container"],l.appendChild(u),s.appendChild(l);var p=document.createElement("div");p.classList=["title"],s.appendChild(p),s.onclick=function(t){r(t)},_.pins.push(a),a.overlay=new n({element:s,positioning:"center-center",dragging:!0}),_.map.addOverlay(a.overlay)}a.overlay.setPosition(e);var h=a.domElement;t.classes&&!N()(t.classes)&&(t.classes=[t.classes]),h.classList=[],[].concat(Object(T["a"])(t.classes||[]),["olpins"]).forEach(function(t){return h.classList.add(t)});var m=h.querySelector(".olpin"),f=h.querySelector(".olpin .olpin-img"),v=h.querySelector(".olpin-popup");t.image?(h.classList.contains("noimage")&&h.classList.remove("noimage"),m.classList.contains("noimage")&&m.classList.remove("noimage"),f.style.display="block",f.src=t.image,v.classList.contains("noimage")&&v.classList.remove("noimage")):(h.classList.contains("noimage")||h.classList.add("noimage"),m.classList.contains("noimage")||m.classList.add("noimage"),f.style.display="none",v.classList.contains("noimage")||v.classList.add("noimage")),v.querySelector(".popup-container").innerHTML=t.popuphtml||"",h.querySelector(".title").innerHTML=t.title||""},p=F()(this.locations);case 12:if(s=(d=p.next()).done){t.next=19;break}if(h=u(),"continue"!==h){t.next=16;break}return t.abrupt("continue",16);case 16:s=!0,t.next=12;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](9),o=!0,l=t.t0;case 25:t.prev=25,t.prev=26,s||null==p.return||p.return();case 28:if(t.prev=28,!o){t.next=31;break}throw l;case 31:return t.finish(28);case 32:return t.finish(25);case 33:if(this.lineslayer&&this.map.removeLayer(this.lineslayer),this.lineoverlays&&this.lineoverlays.forEach(function(t){return _.map.removeOverlay(t)}),this.lineoverlays=[],this.locations.find(function(t){return t.lineto})){t.next=38;break}return t.abrupt("return");case 38:m=new e.source.Vector,f=new e.layer.Vector({source:m}),this.lineslayer=f,this.map.addLayer(f),v=!0,w=!1,g=void 0,t.prev=45,y=function(){var t=x.value;if(!t.lineto)return"continue";var i=_.pins.find(function(e){return e.id==t.id}).overlay.getPosition();N()(t.lineto)||(t.lineto=[t.lineto]);var s=!0,o=!1,l=void 0;try{for(var u,p=function(){var t=u.value,s=_.pins.find(function(e){return e.id==t.location_id}).overlay.getPosition(),o=Object(c["a"])({},Object(c["a"])({color:"red",width:5,images:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATCAYAAACk9eypAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDnYQcQhSnSyKijhKFYtgobQVWnUwufRDaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIi6uToouU+L+k0CLGg+N+vLv3uHsHCPUyU82OcUDVLCMVj4nZ3IoYfEUQ3QhgDEMSM/VEeiEDz/F1Dx9f76I8y/vcn6NHyZsM8InEs0w3LOJ14ulNS+e8TxxmJUkhPiceNeiCxI9cl11+41x0WOCZYSOTmiMOE4vFNpbbmJUMlXiKOKKoGuULWZcVzluc1XKVNe/JXxjKa8tprtMcRByLSCAJETKq2EAZFqK0aqSYSNF+zMM/4PiT5JLJtQFGjnlUoEJy/OB/8LtbszA54SaFYkDgxbY/hoHgLtCo2fb3sW03TgD/M3CltfyVOjDzSXqtpUWOgN5t4OK6pcl7wOUO0P+kS4bkSH6aQqEAvJ/RN+WAvluga9XtrbmP0wcgQ10t3QAHh8BIkbLXPN7d2d7bv2ea/f0Ai11ysXD1QvQAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfjBwsFNBiXqDHXAAABGElEQVQoz32TsUpDQRBFz0tiEAwIESzsrETsLMRWeyvFD/APrKxT+gUKtvZaCWJhmVZQ0cJaREVBhMQYc2x2YV3fy8CwzT0zd4ZZBIVReG+EdaFBVQgfQRzBW2FLmKgCFHoJ9CM8CrvCZBnwGkTfWae+0BHaQpECO8KzMAxgCn0Jh8KiUI9AU9gW7gM0yqCecCaspFBDWBO6wiCD4owXwmpqrS4sCUfCZ+iWQkPhIV9AIcwF34PMmoJlWyuEWeE861AJTAn7wnte/R8gtITjkm3FfIrCmjAvnAZhLh4Jl8JMFC8LV2UWQrcDoRWrbwjXFZX7wt6fmxLeKiq/CJtCs+xa87wTFoRa1Xmn2RXa4z5QOtyJMM2Y+AXxWiXWlbxGoQAAAABJRU5ErkJggg==",anchor:[.75,.5],rotateWithView:!0}},_.lines||{},t.line||{}));N()(o.images)||(o.images=[o.images]),k=[i,s],C=s[0]-i[0],A=s[1]-i[1],S=Math.atan2(A,C);var l=new e.Feature({geometry:new e.geom.LineString(k)}),p=o.images.map(function(t,n,r){var o=t.location||1/(r.length+1)*(n+1),c=[o*s[0]+(1-o)*i[0],o*s[1]+(1-o)*i[1]];return new e.style.Style({geometry:new a(c),image:new e.style.Icon({src:t.src,anchor:t.anchor,rotateWithView:void 0==t.rotateWithView||t.rotateWithView,rotation:-S})})});if(p.unshift(new e.style.Style({stroke:new e.style.Stroke({color:o.color||"red",width:o.width||5})})),l.setStyle(p),m.addFeature(l),!t.info)return"continue";var d=document.getElementById("lineinfo").cloneNode(!0);d.classList.add("lineinfo"),d.innerHTML=(t.info.html||"").trim(),d.onclick=r;var h=t.info.location||.5,f=[h*s[0]+(1-h)*i[0],h*s[1]+(1-h)*i[1]],v=new n({element:d,position:f,positioning:"center-center"});_.lineoverlays.push(v),_.map.addOverlay(v)},d=F()(t.lineto);!(s=(u=d.next()).done);s=!0)p()}catch(h){o=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(o)throw l}}},b=F()(this.locations);case 48:if(v=(x=b.next()).done){t.next=55;break}if(O=y(),"continue"!==O){t.next=52;break}return t.abrupt("continue",52);case 52:v=!0,t.next=48;break;case 55:t.next=61;break;case 57:t.prev=57,t.t1=t["catch"](45),w=!0,g=t.t1;case 61:t.prev=61,t.prev=62,v||null==b.return||b.return();case 64:if(t.prev=64,!w){t.next=67;break}throw g;case 67:return t.finish(64);case 68:return t.finish(61);case 69:case"end":return t.stop()}},t,this,[[9,21,25,33],[26,,28,32],[45,57,61,69],[62,,64,68]])}));function e(){return t.apply(this,arguments)}return e}(),bindpopup:function(){if(!this.click&&!this.searchable)return this.map.un("click",this.clickpopup);this.popup.overlay||(this.popup.overlay=new this.olmap.Overlay({id:"loc-popup",element:document.getElementById("olmap-popup")}),this.map.addOverlay(this.popup.overlay)),this.map.un("click",this.clickpopup),this.map.on("click",this.clickpopup)},clickpopup:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var n,i,a,r,s,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.click,n||(n="fulladdress"),i=this.olmap.proj.toLonLat,this.popup.location="",a=e.coordinate,r=i(a||[]),this.popup.title=n,this.popup.overlay.setPosition(a),s=e.result,s){t.next=16;break}return t.next=12,window.fetch("https://eu1.locationiq.com/v1/reverse.php?key=".concat(this.locationiqkey,"&format=json&lat=").concat(r[1],"&lon=").concat(r[0],"&addressdetails=1"));case 12:return o=t.sent,t.next=15,o.json();case 15:s=t.sent;case 16:s.error||(this.selectedlocation=s,this.search.text=this.selectedlocation.display_name,this.search.autocompleteresult=[]),"fulladdress"==n?(this.popup.location=s.display_name,this.popup.title="Full Address"):this.popup.location=s.address[n],this.$emit("locationselected",s.error?null:s),this.map.getView().animate({center:a,duration:500}),this.popup.show=!0;case 21:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),showpopup:function(t){t.showpopup=!t.showpopup,this.$forceUpdate()},showall:function(){var t=this.olmap.extent.boundingExtent(this.map.getOverlays().getArray().map(function(t){return"loc-popup"!=t.id?t.getPosition():null}).filter(function(t){return t}));this.map.getView().fit(t)},searchlocation:function(){var t=this;this.popup.show=!1,this.autocomptimeout&&window.clearTimeout(this.autocomptimeout);var e=this.search.text;if(this.search.autocompleteresult=[],e&&!(e.length<3)){var n=this;this.autocomptimeout=window.setTimeout(Object(l["a"])(regeneratorRuntime.mark(function i(){var a,r;return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,window.fetch("https://api.locationiq.com/v1/autocomplete.php?key=".concat(t.locationiqkey,"&q=").concat(e));case 2:return a=i.sent,i.next=5,a.json();case 5:r=i.sent,N()(r)&&(n.search.autocompleteresult=r);case 7:case"end":return i.stop()}},i)})),400)}},selectlocation:function(t){var e=this.olmap.proj.fromLonLat;!t&&this.search.autocompleteresult.length&&(t=this.search.autocompleteresult[0]),this.selectedlocation=t,this.selectedlocation&&(this.clickpopup({coordinate:e([P()(t.lon),P()(t.lat)]),result:t}),this.search.text=t.display_name,this.search.autocompleteresult=[])},locateme:function(){var t=this,e=this.olmap.proj.fromLonLat,n=this;if(this.me.location)return this.clickpopup({coordinate:n.me.location});window.navigator.geolocation.getCurrentPosition(function(n){n.lat=n.coords.latitude,n.lng=n.coords.longitude,t.clickpopup({coordinate:e([P()(n.coords.longitude),P()(n.coords.latitude)])})},function(){window.toastr.error("Allow access to location","Error")})},clearselect:function(){this.popup.show=!1,this.search.text="",this.search.selectedlocation=null,this.search.autocompleteresult=[],this.popup.location=""},pantome:function(){this.me.location&&this.map.getView().animate({center:this.me.location,duration:500})},showhideme:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,n,i,a,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,n=this.olmap.proj.fromLonLat,this.me.visible){t.next=6;break}return this.me.overlay&&this.map.removeOverlay(this.me.overlay),this.me.location=null,t.abrupt("return");case 6:if(this.me.location){t.next=12;break}return t.next=9,new J.a(function(t){window.navigator.geolocation.getCurrentPosition(function(e){r.me.location=n([P()(e.coords.longitude),P()(e.coords.latitude)]),r.me.watchfuncres=function(e){r.me.location=n([P()(e.coords.longitude),P()(e.coords.latitude)]),t(!0)},r.me.watchfuncrej=function(){window.toastr.error("Error reading location","Error"),t(!1)},window.navigator.geolocation.watchPosition(r.me.watchfuncres,r.me.watchfuncrej)},function(){window.toastr.error("Allow access to location","Error"),t(!1)})});case 9:if(i=t.sent,i){t.next=12;break}return t.abrupt("return");case 12:this.me.overlay||(a=document.createElement("div"),a.classList.add("mebullet"),this.me.overlay=new this.olmap.Overlay({element:a,positioning:"center-center",position:e.me.location}),this.map.addOverlay(this.me.overlay));case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},watch:{locations:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initation();case 2:this.draw();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),line:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initation();case 2:this.draw();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),click:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initation();case 2:this.bindpopup();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),searchable:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initation();case 2:this.bindpopup();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showme:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initation();case 2:this.me.visible=void 0==e||e,this.showhideme();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),"me.location":function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initation();case 2:this.me.overlay&&this.me.location&&this.me.overlay.setPosition(this.me.location);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},H=U,B=(n("cafc"),Object(m["a"])(H,L,R,!1,null,null,null)),V=B.exports,W={name:"Dashboard",components:{olmap:V},data:function(){return{locations:[{id:1,title:"mo bandar",classes:["test",1],popuphtml:"<div>test</div>",image:"http://localhost:3007/uploads/images/others/1560843546728.jpeg",lineto:[{location_id:2,info:{html:"<div>22km</div><div>12 Min</div>",location:.7},line:{width:5,color:"blue",images:[{src:"/img/arrow2.svg",location:.3}]}}],lng:-.1318,lat:50.845},{id:2,title:"babak",classes:[],popuphtml:"<div>test2</div>",lng:-.1399,lat:50.845}]}},mounted:function(){},beforeDestroy:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{},computed:{}},$=W,z=(n("df34"),Object(m["a"])($,j,M,!1,null,"0b46584d",null)),K=z.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home container"},[t._v("Merchabts")])},X=[],Y={name:"Merchants",data:function(){return{}},mounted:function(){},beforeDestroy:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{},computed:{}},G=Y,tt=Object(m["a"])(G,Z,X,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home container"},[t._v("drivers")])},it=[],at={name:"Drivers",data:function(){return{}},mounted:function(){},beforeDestroy:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{},computed:{}},rt=at,st=Object(m["a"])(rt,nt,it,!1,null,null,null),ot=st.exports;r["a"].use(D["a"]);var ct=new D["a"]({routes:[{path:"/",name:"Dashboard",component:K,meta:{mainindex:1,keepAlive:!0}},{path:"/drivers",name:"Drivers",component:ot,meta:{mainindex:2,keepAlive:!0}},{path:"/merchants",name:"Merchants",component:et,meta:{mainindex:3,keepAlive:!0}}]}),lt=ct;n("1449"),window.serverconfig=a;var ut=n("b9b9");Date.prototype.format=function(t){return ut(this,t)},window.toastr=n("854a"),window.toastr.options.preventDuplicates=!0;var pt=n("fe3c");pt.attach(document.body),n("8aa8"),r["a"].config.productionTip=!0,new r["a"]({router:lt,data:{user:null,datefilter:null,getdata:null,mainData:null},render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("5e27"),a=n.n(i);a.a},"5e27":function(t,e,n){},"87b8":function(t,e,n){},"8aa8":function(t,e,n){"use strict";n.r(e);var i,a=n("795b"),r=n.n(a),s=n("f499"),o=n.n(s),c=(n("34ef"),n("a481"),n("14b9"),n("cadf"),n("551c"),n("f751"),n("097d"),n("9483")),l="BJIGTwPsHQ_J1Yg_9xbUDLnrz_jTq8-nDxuU3_nXPF7-DNU645CLMBsrm73g6HefM74RSTjtLr2upgWKQ30SFLk",u=null;function p(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(n),a=new Uint8Array(i.length),r=0;r<i.length;++r)a[r]=i.charCodeAt(r);return a}function d(t){window.localStorage.setItem("pushcre",o()(t)),window.location.reload(!0)}window.subscribeUser=function(){return new r.a(function(t){var e=p(l);u.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then(function(e){d(e),t(e)}).catch(function(e){return console.log("Failed to subscribe the user: ",e),window.toastr.error("you should allow permission for push notification","Permission required!!!",{closeButton:!0,positionClass:"toast-top-full-width",timeOut:0,extendedTimeOut:0}),t(null)})})},window.propforinstall=null,Object(c["a"])("".concat("/map/","service-worker.js"),{registered:function(t){u=t}}),(window.navigator||{}).serviceWorker&&window.navigator.serviceWorker.ready.then(function(){window.addEventListener("beforeinstallprompt",function(t){t.preventDefault(),i=t,window.propforinstall=function(){i.prompt(),i.userChoice.then(function(t){"accepted"===t.outcome&&window.subscribeUser(),i=null})}})})},9180:function(t,e,n){},ab4a:function(t,e,n){},ab73:function(t,e,n){},b191:function(t,e,n){"use strict";var i=n("400e"),a=n.n(i);a.a},cafc:function(t,e,n){"use strict";var i=n("f968"),a=n.n(i);a.a},df34:function(t,e,n){"use strict";var i=n("ab73"),a=n.n(i);a.a},f968:function(t,e,n){}});