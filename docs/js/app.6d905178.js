(function(t){function e(e){for(var n,i,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)i=o[d],s[i]&&p.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/map/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"07d1":function(t,e,a){"use strict";var n=a("ab4a"),s=a.n(n);s.a},1449:function(t,e,a){"use strict";a.r(e),function(t){var e=a("795b"),n=a.n(e),s=(a("96cf"),a("3b8d"));a("cadf"),a("551c"),a("f751"),a("097d");t.delay=function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new n.a(function(t){return setTimeout(t,e)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),window.Math.bzround=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return window.Math.round(t*window.Math.pow(10,e))/window.Math.pow(10,e)},window.distanceinmath=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"km";if(!t||!e)return null;var n=.017453292519943295,s=Math.cos,r=.5-s((e.lat-t.lat)*n)/2+s(t.lat*n)*s(e.lat*n)*(1-s((e.lng-t.lng)*n))/2;return"ml"==a?7920*Math.asin(Math.sqrt(r)):"km"==a?12742*Math.asin(Math.sqrt(r)):0}}.call(this,a("c8ba"))},"400e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var n;a("cadf"),a("551c"),a("f751"),a("097d");n={socket:{url:"https://diliviri.com/",namespace:"superadmin"}};var s=n,r=(a("ab8b"),a("61e3"),a("87b8"),a("9180"),a("2b0e")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"opacity"}},[a("div",{staticStyle:{widht:"100vw",height:"100%"},attrs:{id:"app"}},[a("div",{attrs:{id:"mainloader"}}),a("div",{staticStyle:{position:"relative",height:"100%"}},[a("div",{attrs:{id:"header"}},[a("datefilter",{on:{changed:t.getdata}}),a("div",{staticClass:"float-right",staticStyle:{float:"right",height:"30px",width:"30px",padding:"4px"},on:{click:function(e){t.settingvis=!0}}},[a("img",{staticStyle:{height:"calc(100% - 6px)",padding:"0 3px"},attrs:{src:"/img/icons/menu.png",alt:""}})]),a("div",{staticClass:"clearfix"})],1),a("transition",{attrs:{name:"slideleft"}},[t.settingvis?a("settings",{on:{hide:function(e){t.settingvis=0}}}):t._e()],1),a("transition",{attrs:{name:"component-"+t.transisionname}},[a("keep-alive",[t.$route.meta.keepAlive?a("router-view",{staticClass:"container mainrouteview",attrs:{id:"pagecontainer"}}):t._e()],1)],1),a("div",{staticClass:"d-flex justify-content-around",attrs:{id:"nav"}},[a("a",{class:{"router-link-exact-active router-link-active":1==t.$route.meta.mainindex},on:{click:function(e){return t.nav(e,"/")}}},[t._v("Dashboard")]),a("a",{class:{"router-link-exact-active router-link-active":2==t.$route.meta.mainindex},on:{click:function(e){return t.nav(e,"/drivers")}}},[t._v("Drivers")]),a("a",{class:{"router-link-exact-active router-link-active":3==t.$route.meta.mainindex},on:{click:function(e){return t.nav(e,"/merchants")}}},[t._v("Merchants")])])],1)])])},o=[],l=a("cebc"),c=(a("a481"),a("96cf"),a("3b8d")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"settings"},on:{click:function(e){return t.hideme()}}},[a("div",{staticClass:"window",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"btn btn-danger",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){return t.logout()}}},[t._v("logout")]),a("div",{staticClass:"btn btn-warning mt-2",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){return t.updateapp()}}},[t._v("Update/reset")]),a("div",{staticClass:"btn btn-info mt-2",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){t.showpassform=!t.showpassform}}},[t._v("change password")]),t.showpassform?a("div",{staticClass:"my-2 mx-auto",staticStyle:{width:"calc(100% - 10px)"}},[a("div",{staticClass:"form-group",staticStyle:{position:"relative"}},["checkbox"===(t.showoldpass?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:"checkbox"},domProps:{checked:Array.isArray(t.oldpass)?t._i(t.oldpass,null)>-1:t.oldpass},on:{change:function(e){var a=t.oldpass,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);n.checked?i<0&&(t.oldpass=a.concat([r])):i>-1&&(t.oldpass=a.slice(0,i).concat(a.slice(i+1)))}else t.oldpass=s}}}):"radio"===(t.showoldpass?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:"radio"},domProps:{checked:t._q(t.oldpass,null)},on:{change:function(e){t.oldpass=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:t.showoldpass?"text":"password"},domProps:{value:t.oldpass},on:{input:function(e){e.target.composing||(t.oldpass=e.target.value)}}}),a("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"2px",top:"4px"},attrs:{src:"/img/icon/"+(t.showoldpass?"not":"")+"see.png"},on:{click:function(e){t.showoldpass=!t.showoldpass}}})]),a("div",{staticClass:"form-group",staticStyle:{position:"relative"}},["checkbox"===(t.shownewpass?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"checkbox"},domProps:{checked:Array.isArray(t.newpass)?t._i(t.newpass,null)>-1:t.newpass},on:{change:function(e){var a=t.newpass,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);n.checked?i<0&&(t.newpass=a.concat([r])):i>-1&&(t.newpass=a.slice(0,i).concat(a.slice(i+1)))}else t.newpass=s}}}):"radio"===(t.shownewpass?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"radio"},domProps:{checked:t._q(t.newpass,null)},on:{change:function(e){t.newpass=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:t.shownewpass?"text":"password"},domProps:{value:t.newpass},on:{input:function(e){e.target.composing||(t.newpass=e.target.value)}}}),a("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"2px",top:"4px"},attrs:{src:"/img/icon/"+(t.shownewpass?"not":"")+"see.png"},on:{click:function(e){t.shownewpass=!t.shownewpass}}})]),a("div",{staticClass:"btn btn-success mt-2",staticStyle:{width:"calc(100% - 30px)"},on:{click:function(e){return t.savepassword()}}},[t._v("\n        save\n        "),t.savingpassword?a("img",{staticClass:"loader",staticStyle:{margin:"-15px 0"},attrs:{src:"img/rings.svg"}}):t._e()])]):t._e()])])},d=[],p={name:"settings",data:function(){return{showpassform:!1,shownewpass:!1,showoldpass:!1,savingpassword:!1,oldpass:null,newpass:null}},created:function(){},methods:{hideme:function(){this.$emit("hide")},logout:function(){window.localStorage.setItem("api_token",null),this.$root.user=null,this.socketreconnect(),this.hideme()},updateapp:function(){window.location.reload(!0)},savepassword:function(){var t=this;if(!t.savingpassword){if(!t.newpass)return window.toastr.warning("new password is not filled");t.savingpassword=!0,t.socketcall("users/changepass",{newpass:t.newpass,oldpass:t.oldpass}).then(function(e){if(t.savingpassword=!1,e.error)return window.toastr.error((e.error||{}).message||"couldn't save new password");window.toastr.success("password changed!"),t.oldpass=null,t.newpass=null,t.showpassform=!1})}}},computed:{}},f=p,m=(a("07d1"),a("2877")),h=Object(m["a"])(f,u,d,!1,null,"6d4afb1c",null),w=h.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"float-left",staticStyle:{width:"calc(100% - 50px)"}},[a("div",{staticClass:"filters d-flex flex-column"},[a("div",{staticClass:"simpledatefilter"},[a("div",{staticClass:"form-group mb-0"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.simplefilterval,expression:"simplefilterval"}],staticClass:"form-control float-left bg-transparent border-0",staticStyle:{height:"30px",width:"130px","box-shadow":"none"},on:{click:function(e){t.showcustomfilter="custom"==t.simplefilterval},change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.simplefilterval=e.target.multiple?a:a[0]},function(e){return t.simplefilter()}]}},[a("option",{attrs:{value:"today"}},[t._v("Today")]),a("option",{attrs:{value:"yesterday"}},[t._v("Yesterday")]),a("option",{attrs:{value:"thisweek"}},[t._v("This week")]),a("option",{attrs:{value:"pastweek"}},[t._v("Past week")]),a("option",{attrs:{value:"thismonth"}},[t._v("This Month")]),a("option",{attrs:{value:"pastmonth"}},[t._v("Past Month")]),a("option",{staticStyle:{"background-color":"#fae0fb","font-weight":"bold"},attrs:{value:"custom"}},[t._v("Custom")])]),a("div",{staticClass:"btn-link small text-right mt-1 float-left ml-2",on:{click:function(e){t.showfiltersetting=!t.showfiltersetting}}},[t._v("Setting")])])]),t.showfiltersetting?a("div",{staticClass:"datepicker d-flex m-2 pb-2",class:{"border-bottom border-primary":t.showfiltersetting&&t.showcustomfilter}},[a("span",{staticStyle:{width:"150px","text-align":"left"}},[t._v("Day split time:")]),a("datetime",{attrs:{type:"time",inputClass:"timeinput","use12-hour":"",format:"hh:mm a"},model:{value:t.filterdates.daystarttime,callback:function(e){t.$set(t.filterdates,"daystarttime",e)},expression:"filterdates.daystarttime"}})],1):t._e(),t.showcustomfilter?a("div",{staticClass:"customdatefilter m-2"},[a("div",{},[a("div",{staticClass:"datepicker d-flex mt-2"},[a("span",{staticStyle:{width:"100px","text-align":"left"}},[t._v("From:")]),a("datetime",{staticClass:"dateinput",attrs:{inputClass:"dateinput",type:"datetime",format:"ccc MMM dd, yyyy  HH:mm"},model:{value:t.filterdates.startdate,callback:function(e){t.$set(t.filterdates,"startdate",e)},expression:"filterdates.startdate"}})],1),a("div",{staticClass:"datepicker d-flex mt-2"},[a("span",{staticStyle:{width:"100px","text-align":"left"}},[t._v("To:")]),a("datetime",{attrs:{inputClass:"dateinput",type:"datetime",format:"ccc MMM dd, yyyy  HH:mm"},on:{click:function(t){t.stopPropagation()}},model:{value:t.filterdates.finishdate,callback:function(e){t.$set(t.filterdates,"finishdate",e)},expression:"filterdates.finishdate"}})],1)]),a("div",{staticClass:"btn btn-info mt-4",staticStyle:{"min-width":"50%"},on:{click:function(e){return t.filtershifts()}}},[t._v("Apply")])]):t._e()])])},g=[],b=a("859b"),y=(a("d355"),{name:"datefilter",data:function(){return{filterdates:{finishdate:(new Date).toISOString(),daystarttime:new Date("1 1 2019 6:00 am").toISOString(),startdate:new Date((new Date).setHours(new Date("1 1 2019 6:00 am").getHours(),new Date("1 1 2019 6:00 am").getMinutes(),0,0)).toISOString()},showcustomfilter:!1,showfiltersetting:!1,simplefilterval:"today"}},components:{Datetime:b["Datetime"]},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=new Date(this.filterdates.startdate),e>new Date&&(this.filterdates.startdate=new Date(e.getTime()-864e5).toISOString()),this.filtershifts();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{simplefilter:function(){var t=this.simplefilterval;if("custom"!=t){var e=new Date,a=new Date(this.filterdates.daystarttime),n=new Date((new Date).setHours(a.getHours(),a.getMinutes(),0,0));if(e<n&&n.setDate(n.getDate()-1),"today"==t)this.filterdates.startdate=n.toISOString(),this.filterdates.finishdate=e.toISOString();else if("yesterday"==t){var s=new Date(n.getTime());s.setDate(n.getDate()-1),this.filterdates.startdate=s.toISOString(),this.filterdates.finishdate=n.toISOString()}else if("thisweek"==t){var r=new Date(n.getTime());r.setDate(n.getDate()-n.getDay()+1),e<r&&r.setDate(r.getDate()-7),this.filterdates.startdate=r.toISOString(),this.filterdates.finishdate=e.toISOString()}else if("pastweek"==t){var i=new Date(n.getTime());i.setDate(n.getDate()-n.getDay()+1),e<i&&i.setDate(i.getDate()-7);var o=new Date(n.getTime());o.setDate(i.getDate()-7),this.filterdates.startdate=o.toISOString(),this.filterdates.finishdate=i.toISOString()}else if("thismonth"==t){var l=new Date(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),0);this.filterdates.startdate=l.toISOString(),this.filterdates.finishdate=e.toISOString()}else if("pastmonth"==t){var c=new Date(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),0),u=n.getMonth(),d=new Date(n.getFullYear()-(u?0:1),u?n.getMonth()-1:12,1,n.getHours(),n.getMinutes(),0);this.filterdates.startdate=d.toISOString(),this.filterdates.finishdate=c.toISOString()}this.filtershifts()}},filtershifts:function(){this.showcustomfilter=!1,this.showfiltersetting=!1,this.$emit("changed",this.filterdates)}},computed:{},watch:{}}),x=y,k=(a("b191"),Object(m["a"])(x,v,g,!1,null,null,null)),S=k.exports,_={data:function(){return{userresolved:!1,settingvis:!1,transisionname:"slideleft"}},components:{settings:w,datefilter:S},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{nav:function(t,e){var a=this.$route.meta.mainindex,n=this.$router.resolve(e).route.meta.mainindex;a!==n&&(this.transisionname=a>n?"slideright":"slideleft",this.$router.push(e))},queryhandeler:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a="string"==e.type?JSON.parse(e.data):e,a){t.next=3;break}return t.abrupt("return");case 3:n=this.$router,n.replace(Object(l["a"])({},n.currentRoute,{query:null}));case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},watch:{},computed:{}},D=_,O=(a("5c0b"),Object(m["a"])(D,i,o,!1,null,null,null)),C=O.exports,M=a("8c4f"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container"},[t._v("dashboard")])},P=[],$={name:"Dashboard",data:function(){return{}},mounted:function(){},beforeDestroy:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{},computed:{}},I=$,R=Object(m["a"])(I,j,P,!1,null,null,null),T=R.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container"},[t._v("Merchabts")])},H=[],N={name:"Merchants",data:function(){return{}},mounted:function(){},beforeDestroy:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{},computed:{}},q=N,E=Object(m["a"])(q,A,H,!1,null,null,null),F=E.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container"},[t._v("drivers")])},J=[],L={name:"Drivers",data:function(){return{}},mounted:function(){},beforeDestroy:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{},computed:{}},Y=L,B=Object(m["a"])(Y,U,J,!1,null,null,null),W=B.exports;r["a"].use(M["a"]);var z=new M["a"]({routes:[{path:"/",name:"Dashboard",component:T,meta:{mainindex:1,keepAlive:!0}},{path:"/drivers",name:"Drivers",component:W,meta:{mainindex:2,keepAlive:!0}},{path:"/merchants",name:"Merchants",component:F,meta:{mainindex:3,keepAlive:!0}}]}),K=z;a("1449"),window.serverconfig=s;var Q=a("b9b9");Date.prototype.format=function(t){return Q(this,t)},window.toastr=a("854a"),window.toastr.options.preventDuplicates=!0;var G=a("fe3c");G.attach(document.body),a("8aa8"),r["a"].config.productionTip=!0,new r["a"]({router:K,data:{user:null,datefilter:null,getdata:null,mainData:null},render:function(t){return t(C)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),s=a.n(n);s.a},"5e27":function(t,e,a){},"87b8":function(t,e,a){},"8aa8":function(t,e,a){"use strict";a.r(e);var n,s=a("795b"),r=a.n(s),i=a("f499"),o=a.n(i),l=(a("34ef"),a("a481"),a("14b9"),a("cadf"),a("551c"),a("f751"),a("097d"),a("9483")),c="BJIGTwPsHQ_J1Yg_9xbUDLnrz_jTq8-nDxuU3_nXPF7-DNU645CLMBsrm73g6HefM74RSTjtLr2upgWKQ30SFLk",u=null;function d(t){for(var e="=".repeat((4-t.length%4)%4),a=(t+e).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(a),s=new Uint8Array(n.length),r=0;r<n.length;++r)s[r]=n.charCodeAt(r);return s}function p(t){window.localStorage.setItem("pushcre",o()(t)),window.location.reload(!0)}window.subscribeUser=function(){return new r.a(function(t){var e=d(c);u.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then(function(e){p(e),t(e)}).catch(function(e){return console.log("Failed to subscribe the user: ",e),window.toastr.error("you should allow permission for push notification","Permission required!!!",{closeButton:!0,positionClass:"toast-top-full-width",timeOut:0,extendedTimeOut:0}),t(null)})})},window.propforinstall=null,Object(l["a"])("".concat("/map/","service-worker.js"),{registered:function(t){u=t}}),(window.navigator||{}).serviceWorker&&window.navigator.serviceWorker.ready.then(function(){window.addEventListener("beforeinstallprompt",function(t){t.preventDefault(),n=t,window.propforinstall=function(){n.prompt(),n.userChoice.then(function(t){"accepted"===t.outcome&&window.subscribeUser(),n=null})}})})},9180:function(t,e,a){},ab4a:function(t,e,a){},b191:function(t,e,a){"use strict";var n=a("400e"),s=a.n(n);s.a}});