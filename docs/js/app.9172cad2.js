(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],p=0,d=[];p<s.length;p++)o=s[p],i[o]&&d.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/map/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0697":function(e,t,n){},"07d1":function(e,t,n){"use strict";var r=n("ab4a"),i=n.n(r);i.a},1449:function(e,t,n){"use strict";n.r(t),function(e){var t=n("795b"),r=n.n(t),i=(n("96cf"),n("3b8d"));n("cadf"),n("551c"),n("f751"),n("097d");e.delay=function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new r.a(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),window.Math.bzround=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return window.Math.round(e*window.Math.pow(10,t))/window.Math.pow(10,t)},window.distanceinmath=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"km";if(!e||!t)return null;var r=.017453292519943295,i=Math.cos,a=.5-i((t.lat-e.lat)*r)/2+i(e.lat*r)*i(t.lat*r)*(1-i((t.lng-e.lng)*r))/2;return"ml"==n?7920*Math.asin(Math.sqrt(a)):"km"==n?12742*Math.asin(Math.sqrt(a)):0}}.call(this,n("c8ba"))},"422b":function(e,t,n){"use strict";var r=n("0697"),i=n.n(r);i.a},"56d7":function(e,t,n){"use strict";n.r(t);var r;n("cadf"),n("551c"),n("f751"),n("097d");r={socket:{url:"https://diliviri.com/",namespace:"superadmin"}};var i=r,a=(n("ab8b"),n("61e3"),n("87b8"),n("9180"),n("2b0e")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"opacity"}},[n("div",{staticStyle:{widht:"100vw",height:"100%"},attrs:{id:"app"}},[n("div",{attrs:{id:"mainloader"}}),n("div",{staticStyle:{position:"relative",height:"100%"}},[n("div",{attrs:{id:"header"}},[n("div",{staticClass:"float-right",staticStyle:{float:"right",height:"30px",width:"30px",padding:"4px"},on:{click:function(t){e.settingvis=!0}}},[n("img",{staticStyle:{height:"calc(100% - 6px)",padding:"0 3px"},attrs:{src:"img/icons/menu.png",alt:""}})]),n("div",{staticClass:"clearfix"})]),n("transition",{attrs:{name:"slideleft"}},[e.settingvis?n("settings",{on:{hide:function(t){e.settingvis=0}}}):e._e()],1),n("transition",{attrs:{name:"component-"+e.transisionname}},[n("keep-alive",[e.$route.meta.keepAlive?n("router-view",{staticClass:"container mainrouteview",attrs:{id:"pagecontainer"}}):e._e()],1)],1),n("div",{staticClass:"d-flex justify-content-around",attrs:{id:"nav"}},[n("a",{class:{"router-link-exact-active router-link-active":1==e.$route.meta.mainindex},on:{click:function(t){return e.nav(t,"/")}}},[e._v("Dashboard")]),n("a",{class:{"router-link-exact-active router-link-active":2==e.$route.meta.mainindex},on:{click:function(t){return e.nav(t,"/drivers")}}},[e._v("Drivers")]),n("a",{class:{"router-link-exact-active router-link-active":3==e.$route.meta.mainindex},on:{click:function(t){return e.nav(t,"/merchants")}}},[e._v("Merchants")])])],1)])])},s=[],c=n("cebc"),l=(n("a481"),n("96cf"),n("3b8d")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"settings"},on:{click:function(t){return e.hideme()}}},[n("div",{staticClass:"window",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"btn btn-danger",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(t){return e.logout()}}},[e._v("logout")]),n("div",{staticClass:"btn btn-warning mt-2",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(t){return e.updateapp()}}},[e._v("Update/reset")]),n("div",{staticClass:"btn btn-info mt-2",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(t){e.showpassform=!e.showpassform}}},[e._v("change password")]),e.showpassform?n("div",{staticClass:"my-2 mx-auto",staticStyle:{width:"calc(100% - 10px)"}},[n("div",{staticClass:"form-group",staticStyle:{position:"relative"}},["checkbox"===(e.showoldpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:"checkbox"},domProps:{checked:Array.isArray(e.oldpass)?e._i(e.oldpass,null)>-1:e.oldpass},on:{change:function(t){var n=e.oldpass,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=null,o=e._i(n,a);r.checked?o<0&&(e.oldpass=n.concat([a])):o>-1&&(e.oldpass=n.slice(0,o).concat(n.slice(o+1)))}else e.oldpass=i}}}):"radio"===(e.showoldpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:"radio"},domProps:{checked:e._q(e.oldpass,null)},on:{change:function(t){e.oldpass=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:e.showoldpass?"text":"password"},domProps:{value:e.oldpass},on:{input:function(t){t.target.composing||(e.oldpass=t.target.value)}}}),n("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"2px",top:"4px"},attrs:{src:"/img/icon/"+(e.showoldpass?"not":"")+"see.png"},on:{click:function(t){e.showoldpass=!e.showoldpass}}})]),n("div",{staticClass:"form-group",staticStyle:{position:"relative"}},["checkbox"===(e.shownewpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"checkbox"},domProps:{checked:Array.isArray(e.newpass)?e._i(e.newpass,null)>-1:e.newpass},on:{change:function(t){var n=e.newpass,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=null,o=e._i(n,a);r.checked?o<0&&(e.newpass=n.concat([a])):o>-1&&(e.newpass=n.slice(0,o).concat(n.slice(o+1)))}else e.newpass=i}}}):"radio"===(e.shownewpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"radio"},domProps:{checked:e._q(e.newpass,null)},on:{change:function(t){e.newpass=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:e.shownewpass?"text":"password"},domProps:{value:e.newpass},on:{input:function(t){t.target.composing||(e.newpass=t.target.value)}}}),n("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"2px",top:"4px"},attrs:{src:"/img/icon/"+(e.shownewpass?"not":"")+"see.png"},on:{click:function(t){e.shownewpass=!e.shownewpass}}})]),n("div",{staticClass:"btn btn-success mt-2",staticStyle:{width:"calc(100% - 30px)"},on:{click:function(t){return e.savepassword()}}},[e._v("\n        save\n        "),e.savingpassword?n("img",{staticClass:"loader",staticStyle:{margin:"-15px 0"},attrs:{src:"img/rings.svg"}}):e._e()])]):e._e()])])},p=[],d={name:"settings",data:function(){return{showpassform:!1,shownewpass:!1,showoldpass:!1,savingpassword:!1,oldpass:null,newpass:null}},created:function(){},methods:{hideme:function(){this.$emit("hide")},logout:function(){window.localStorage.setItem("api_token",null),this.$root.user=null,this.socketreconnect(),this.hideme()},updateapp:function(){window.location.reload(!0)},savepassword:function(){var e=this;if(!e.savingpassword){if(!e.newpass)return window.toastr.warning("new password is not filled");e.savingpassword=!0,e.socketcall("users/changepass",{newpass:e.newpass,oldpass:e.oldpass}).then(function(t){if(e.savingpassword=!1,t.error)return window.toastr.error((t.error||{}).message||"couldn't save new password");window.toastr.success("password changed!"),e.oldpass=null,e.newpass=null,e.showpassform=!1})}}},computed:{}},m=d,h=(n("07d1"),n("2877")),f=Object(h["a"])(m,u,p,!1,null,"6d4afb1c",null),v=f.exports,w={data:function(){return{userresolved:!1,settingvis:!1,transisionname:"slideleft"}},components:{settings:v},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{nav:function(e,t){var n=this.$route.meta.mainindex,r=this.$router.resolve(t).route.meta.mainindex;n!==r&&(this.transisionname=n>r?"slideright":"slideleft",this.$router.push(t))},queryhandeler:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n="string"==t.type?JSON.parse(t.data):t,n){e.next=3;break}return e.abrupt("return");case 3:r=this.$router,r.replace(Object(c["a"])({},r.currentRoute,{query:null}));case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},watch:{},computed:{}},g=w,y=(n("5c0b"),Object(h["a"])(g,o,s,!1,null,null,null)),b=y.exports,x=n("8c4f"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home w-100 px-0"},[n("olmap",{attrs:{oljspath:"vendors/openlayer.v.5.3.0/script.js",olcsspath:"vendors/openlayer.v.5.3.0/style.css",locations:e.locations,lines:{width:5,color:"red",images:[{src:"img/arrow.png"},{src:"img/arrow.png"}]},locationiqkey:"188e59707db08f",showme:!0,searchable:"true"}})],1)},A=[],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"olmap-container"}},[n("div",{attrs:{id:"olmap"}}),e.searchable?n("div",{attrs:{id:"olsearch"}},[n("div",{staticClass:"boxcontainer"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search.text,expression:"search.text"}],staticClass:"searchinput",attrs:{type:"text",placeholder:"Post Code"},domProps:{value:e.search.text},on:{keyup:function(t){13==t.keyCode?e.selectlocation():e.searchlocation()},input:function(t){t.target.composing||e.$set(e.search,"text",t.target.value)}}}),e.search.text?n("div",{staticClass:"ol-clearsearchbox",on:{click:e.clearselect}},[e._v("x")]):e._e(),n("div",{staticClass:"locateme",on:{click:function(t){return e.locateme()}}},[e._v("•")]),n("div",{staticClass:"autoresults"},e._l(e.search.autocompleteresult,function(t,r){return n("div",{key:r,staticClass:"autoresult",attrs:{title:t.display_address},on:{click:function(n){return e.selectlocation(t)}}},[e._v(e._s(t.address.postcode)+", "+e._s(t.display_address))])}),0)])]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.popup.show,expression:"popup.show"}],attrs:{id:"olmap-popup"}},[n("div",{staticClass:"detail"},[n("div",{staticClass:"popupcontent"},[n("div",{staticClass:"header"},[n("h5",{staticStyle:{margin:"0","text-transform":"capitalize"}},[e._v(e._s(e.popup.title))]),n("span",{staticClass:"closebtn",on:{click:e.clearselect}},[e._v("x")])]),e.popup.location?n("div",{staticClass:"content"},[n("span",[e._v(e._s(e.popup.location))])]):n("div",[n("svg",{attrs:{width:"40",height:"10",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"#222"}},[n("circle",{attrs:{cx:"15",cy:"15",r:"15"}},[n("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),n("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"}},[n("animate",{attrs:{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}}),n("animate",{attrs:{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"105",cy:"15",r:"15"}},[n("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),n("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})])])])])])]),n("div",{attrs:{id:"lineinfo"}}),void 0==e.showme||e.showme?n("div",{attrs:{id:"ol-showme"},on:{click:function(t){return e.pantome()}}},[e._v("•")]):e._e(),n("div",{attrs:{id:"ol-showall"},on:{click:function(t){return e.showall()}}},[e._v("[ ]")])])},j=[],O=n("59ad"),L=n.n(O),E=(n("386d"),n("8449"),n("75fc")),M=n("a745"),_=n.n(M),P=n("5d73"),S=n.n(P),R=(n("7514"),n("ac6a"),n("795b")),D=n.n(R),I={data:function(){var e=window.ol,t=null,n=null,r=new D.a(function(e,r){t=e,n=r});return{init:{initiated:e,runned:!1,resolveInitPromise:t,rejectInitPromise:n,initPromise:r},popup:{location:"",title:"",show:!1},pins:[],search:{text:"",autocompleteresult:[],selectedlocation:null,element:null,overlay:null},me:{location:null,overlay:null,visible:!0}}},props:["oljspath","olcsspath","click","locations","lines","searchable","locationiqkey","showme"],created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:this.olmap=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:this.olmap=e.sent,t=this.olmap,n="http://mt.google.com/vt/lyrs=m@221097413,traffic&x={x}&y={y}&z={z}",r=new t.layer.Tile({source:new t.source.OSM({url:n})}),window.baselayer=r,this.map=new t.Map({controls:[],layers:[r],target:"olmap",view:new t.View({center:t.proj.fromLonLat([-.1318,50.845]),zoom:12,minZoom:2,maxZoom:28})}),this.locations&&this.draw(),(this.click||this.searchable)&&this.bindpopup(),this.me.visible=void 0==this.showme||this.showme,this.showhideme();case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{initation:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.init,!t.initiated){e.next=3;break}return e.abrupt("return",new D.a(function(e){return e(t.initiated)}));case 3:if(!t.runned){e.next=5;break}return e.abrupt("return",t.initPromise);case 5:return t.runned=!0,n=document.querySelector("head"),r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",this.olcsspath||"https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css"),n.appendChild(r),i=document.createElement("script"),i.async=!0,i.defer=!0,i.src=this.oljspath||"https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js",a=function e(){if(!window.ol)return window.setTimeout(e,500);t.resolveInitPromise(window.ol)},i.onload=a,i.onerror=t.rejectInitPromise,n.appendChild(i),e.abrupt("return",t.initPromise);case 21:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),draw:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s,l,u,p,d,m,h,f,v,w,g,y,b,x,k,A,C,j,O,L=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=this.olmap,n=t.Overlay,r=t.proj.fromLonLat,i=t.geom.Point,a=function(e){var t=e.target.closest(".ol-overlay-container"),n=t.parentElement.getElementsByClassName("ol-pin-active")[0];n&&n.classList.remove("ol-pin-active"),t.classList.add("ol-pin-active");var r=e.target.closest(".olpins");if(r){var i=r.querySelector(".olpin-popup"),a=r.querySelector(".olpin-popup .popup-container");i.style.display=a.innerHTML&&"none"==i.style.display?"flex":"none"}},this.pins.forEach(function(e){L.locations.find(function(t){return t.id==e.id})||(L.map.removeOverlay(e.overlay),e=null)}),o=!0,s=!1,l=void 0,e.prev=9,u=function(){var e=d.value;if(!e.lng||!e.lat)return"continue";var t=r([e.lng,e.lat]),i=L.pins.find(function(t){return t.id==e.id});if(!i){var o=document.createElement("div");o.id="olpins-"+e.id,i={id:e.id,domElement:o};var s=document.createElement("div");s.classList=["olpin"];var c=document.createElement("img");c.classList=["olpin-img"],s.appendChild(c),o.appendChild(s);var l=document.createElement("div");l.classList=["olpin-popup"],l.style.display="none";var u=document.createElement("div");u.classList=["popup-container"],l.appendChild(u),o.appendChild(l);var p=document.createElement("div");p.classList=["title"],o.appendChild(p),o.onclick=function(e){a(e)},L.pins.push(i),i.overlay=new n({element:o,positioning:"center-center",dragging:!0}),L.map.addOverlay(i.overlay)}i.overlay.setPosition(t);var m=i.domElement;e.classes&&!_()(e.classes)&&(e.classes=[e.classes]),m.classList=[],[].concat(Object(E["a"])(e.classes||[]),["olpins"]).forEach(function(e){return m.classList.add(e)});var h=m.querySelector(".olpin"),f=m.querySelector(".olpin .olpin-img"),v=m.querySelector(".olpin-popup");e.image?(m.classList.contains("noimage")&&m.classList.remove("noimage"),h.classList.contains("noimage")&&h.classList.remove("noimage"),f.style.display="block",f.src=e.image,v.classList.contains("noimage")&&v.classList.remove("noimage")):(m.classList.contains("noimage")||m.classList.add("noimage"),h.classList.contains("noimage")||h.classList.add("noimage"),f.style.display="none",v.classList.contains("noimage")||v.classList.add("noimage")),v.querySelector(".popup-container").innerHTML=e.popuphtml||"",m.querySelector(".title").innerHTML=e.title||""},p=S()(this.locations);case 12:if(o=(d=p.next()).done){e.next=19;break}if(m=u(),"continue"!==m){e.next=16;break}return e.abrupt("continue",16);case 16:o=!0,e.next=12;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](9),s=!0,l=e.t0;case 25:e.prev=25,e.prev=26,o||null==p.return||p.return();case 28:if(e.prev=28,!s){e.next=31;break}throw l;case 31:return e.finish(28);case 32:return e.finish(25);case 33:if(this.lineslayer&&this.map.removeLayer(this.lineslayer),this.lineoverlays&&this.lineoverlays.forEach(function(e){return L.map.removeOverlay(e)}),this.lineoverlays=[],this.locations.find(function(e){return e.lineto})){e.next=38;break}return e.abrupt("return");case 38:h=new t.source.Vector,f=new t.layer.Vector({source:h}),this.lineslayer=f,this.map.addLayer(f),v=!0,w=!1,g=void 0,e.prev=45,y=function(){var e=x.value;if(!e.lineto)return"continue";var r=L.pins.find(function(t){return t.id==e.id}).overlay.getPosition();_()(e.lineto)||(e.lineto=[e.lineto]);var o=!0,s=!1,l=void 0;try{for(var u,p=function(){var e=u.value,o=L.pins.find(function(t){return t.id==e.location_id}).overlay.getPosition(),s=Object(c["a"])({},Object(c["a"])({color:"red",width:5,images:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATCAYAAACk9eypAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UrDnYQcQhSnSyKijhKFYtgobQVWnUwufRDaNKQpLg4Cq4FBz8Wqw4uzro6uAqC4AeIi6uToouU+L+k0CLGg+N+vLv3uHsHCPUyU82OcUDVLCMVj4nZ3IoYfEUQ3QhgDEMSM/VEeiEDz/F1Dx9f76I8y/vcn6NHyZsM8InEs0w3LOJ14ulNS+e8TxxmJUkhPiceNeiCxI9cl11+41x0WOCZYSOTmiMOE4vFNpbbmJUMlXiKOKKoGuULWZcVzluc1XKVNe/JXxjKa8tprtMcRByLSCAJETKq2EAZFqK0aqSYSNF+zMM/4PiT5JLJtQFGjnlUoEJy/OB/8LtbszA54SaFYkDgxbY/hoHgLtCo2fb3sW03TgD/M3CltfyVOjDzSXqtpUWOgN5t4OK6pcl7wOUO0P+kS4bkSH6aQqEAvJ/RN+WAvluga9XtrbmP0wcgQ10t3QAHh8BIkbLXPN7d2d7bv2ea/f0Ai11ysXD1QvQAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfjBwsFNBiXqDHXAAABGElEQVQoz32TsUpDQRBFz0tiEAwIESzsrETsLMRWeyvFD/APrKxT+gUKtvZaCWJhmVZQ0cJaREVBhMQYc2x2YV3fy8CwzT0zd4ZZBIVReG+EdaFBVQgfQRzBW2FLmKgCFHoJ9CM8CrvCZBnwGkTfWae+0BHaQpECO8KzMAxgCn0Jh8KiUI9AU9gW7gM0yqCecCaspFBDWBO6wiCD4owXwmpqrS4sCUfCZ+iWQkPhIV9AIcwF34PMmoJlWyuEWeE861AJTAn7wnte/R8gtITjkm3FfIrCmjAvnAZhLh4Jl8JMFC8LV2UWQrcDoRWrbwjXFZX7wt6fmxLeKiq/CJtCs+xa87wTFoRa1Xmn2RXa4z5QOtyJMM2Y+AXxWiXWlbxGoQAAAABJRU5ErkJggg==",anchor:[.75,.5],rotateWithView:!0}},L.lines||{},e.line||{}));_()(s.images)||(s.images=[s.images]),k=[r,o],A=o[0]-r[0],C=o[1]-r[1],j=Math.atan2(C,A);var l=new t.Feature({geometry:new t.geom.LineString(k)}),p=s.images.map(function(e,n,a){var s=e.location||1/(a.length+1)*(n+1),c=[s*o[0]+(1-s)*r[0],s*o[1]+(1-s)*r[1]];return new t.style.Style({geometry:new i(c),image:new t.style.Icon({src:e.src,anchor:e.anchor,rotateWithView:void 0==e.rotateWithView||e.rotateWithView,rotation:-j})})});if(p.unshift(new t.style.Style({stroke:new t.style.Stroke({color:s.color||"red",width:s.width||5})})),l.setStyle(p),h.addFeature(l),!e.info)return"continue";var d=document.getElementById("lineinfo").cloneNode(!0);d.classList.add("lineinfo"),d.innerHTML=(e.info.html||"").trim(),d.onclick=a;var m=e.info.location||.5,f=[m*o[0]+(1-m)*r[0],m*o[1]+(1-m)*r[1]],v=new n({element:d,position:f,positioning:"center-center"});L.lineoverlays.push(v),L.map.addOverlay(v)},d=S()(e.lineto);!(o=(u=d.next()).done);o=!0)p()}catch(m){s=!0,l=m}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}},b=S()(this.locations);case 48:if(v=(x=b.next()).done){e.next=55;break}if(O=y(),"continue"!==O){e.next=52;break}return e.abrupt("continue",52);case 52:v=!0,e.next=48;break;case 55:e.next=61;break;case 57:e.prev=57,e.t1=e["catch"](45),w=!0,g=e.t1;case 61:e.prev=61,e.prev=62,v||null==b.return||b.return();case 64:if(e.prev=64,!w){e.next=67;break}throw g;case 67:return e.finish(64);case 68:return e.finish(61);case 69:case"end":return e.stop()}},e,this,[[9,21,25,33],[26,,28,32],[45,57,61,69],[62,,64,68]])}));function t(){return e.apply(this,arguments)}return t}(),bindpopup:function(){if(!this.click&&!this.searchable)return this.map.un("click",this.clickpopup);this.popup.overlay||(this.popup.overlay=new this.olmap.Overlay({id:"loc-popup",element:document.getElementById("olmap-popup")}),this.map.addOverlay(this.popup.overlay)),this.map.un("click",this.clickpopup),this.map.on("click",this.clickpopup)},clickpopup:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.click,n||(n="fulladdress"),r=this.olmap.proj.toLonLat,this.popup.location="",i=t.coordinate,a=r(i||[]),this.popup.title=n,this.popup.overlay.setPosition(i),o=t.result,o){e.next=16;break}return e.next=12,window.fetch("https://eu1.locationiq.com/v1/reverse.php?key=".concat(this.locationiqkey,"&format=json&lat=").concat(a[1],"&lon=").concat(a[0],"&addressdetails=1"));case 12:return s=e.sent,e.next=15,s.json();case 15:o=e.sent;case 16:o.error||(this.selectedlocation=o,this.search.text=this.selectedlocation.display_name,this.search.autocompleteresult=[]),"fulladdress"==n?(this.popup.location=o.display_name,this.popup.title="Full Address"):this.popup.location=o.address[n],this.$emit("locationselected",o.error?null:o),this.map.getView().animate({center:i,duration:500}),this.popup.show=!0;case 21:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),showpopup:function(e){e.showpopup=!e.showpopup,this.$forceUpdate()},showall:function(){var e=this.olmap.extent.boundingExtent(this.map.getOverlays().getArray().map(function(e){return"loc-popup"!=e.id?e.getPosition():null}).filter(function(e){return e}));this.map.getView().fit(e)},searchlocation:function(){var e=this;this.popup.show=!1,this.autocomptimeout&&window.clearTimeout(this.autocomptimeout);var t=this.search.text;if(this.search.autocompleteresult=[],t&&!(t.length<3)){var n=this;this.autocomptimeout=window.setTimeout(Object(l["a"])(regeneratorRuntime.mark(function r(){var i,a;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,window.fetch("https://api.locationiq.com/v1/autocomplete.php?key=".concat(e.locationiqkey,"&q=").concat(t));case 2:return i=r.sent,r.next=5,i.json();case 5:a=r.sent,_()(a)&&(n.search.autocompleteresult=a);case 7:case"end":return r.stop()}},r)})),400)}},selectlocation:function(e){var t=this.olmap.proj.fromLonLat;!e&&this.search.autocompleteresult.length&&(e=this.search.autocompleteresult[0]),this.selectedlocation=e,this.selectedlocation&&(this.clickpopup({coordinate:t([L()(e.lon),L()(e.lat)]),result:e}),this.search.text=e.display_name,this.search.autocompleteresult=[])},locateme:function(){var e=this,t=this.olmap.proj.fromLonLat,n=this;if(this.me.location)return this.clickpopup({coordinate:n.me.location});window.navigator.geolocation.getCurrentPosition(function(n){n.lat=n.coords.latitude,n.lng=n.coords.longitude,e.clickpopup({coordinate:t([L()(n.coords.longitude),L()(n.coords.latitude)])})},function(){window.toastr.error("Allow access to location","Error")})},clearselect:function(){this.popup.show=!1,this.search.text="",this.search.selectedlocation=null,this.search.autocompleteresult=[],this.popup.location=""},pantome:function(){this.me.location&&this.map.getView().animate({center:this.me.location,duration:500})},showhideme:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,n=this.olmap.proj.fromLonLat,this.me.visible){e.next=6;break}return this.me.overlay&&this.map.removeOverlay(this.me.overlay),this.me.location=null,e.abrupt("return");case 6:if(this.me.location){e.next=12;break}return e.next=9,new D.a(function(e){window.navigator.geolocation.getCurrentPosition(function(t){a.me.location=n([L()(t.coords.longitude),L()(t.coords.latitude)]),a.me.watchfuncres=function(t){a.me.location=n([L()(t.coords.longitude),L()(t.coords.latitude)]),e(!0)},a.me.watchfuncrej=function(){window.toastr.error("Error reading location","Error"),e(!1)},window.navigator.geolocation.watchPosition(a.me.watchfuncres,a.me.watchfuncrej)},function(){window.toastr.error("Allow access to location","Error"),e(!1)})});case 9:if(r=e.sent,r){e.next=12;break}return e.abrupt("return");case 12:this.me.overlay||(i=document.createElement("div"),i.classList.add("mebullet"),this.me.overlay=new this.olmap.Overlay({element:i,positioning:"center-center",position:t.me.location}),this.map.addOverlay(this.me.overlay));case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},watch:{locations:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:this.draw();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),line:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:this.draw();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),click:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:this.bindpopup();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),searchable:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:this.bindpopup();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),showme:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:this.me.visible=void 0==t||t,this.showhideme();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),"me.location":function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:this.me.overlay&&this.me.location&&this.me.overlay.setPosition(this.me.location);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},q=I,T=(n("cafc"),Object(h["a"])(q,C,j,!1,null,null,null)),N=T.exports,B={name:"Dashboard",components:{olmap:N},data:function(){return{locations:[{id:1,title:"mo bandar",classes:["test",1],popuphtml:"<div>test</div>",image:"http://localhost:3007/uploads/images/others/1560843546728.jpeg",lineto:[{location_id:2,info:{html:"<div>22km</div><div>12 Min</div>",location:.7},line:{width:5,color:"blue",images:[{src:"img/arrow2.svg",location:.3}]}}],lng:-.1318,lat:50.845},{id:2,title:"babak",classes:[],popuphtml:"<div>test2</div>",lng:-.1399,lat:50.845}]}},mounted:function(){},beforeDestroy:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{},computed:{}},Q=B,J=(n("7261"),Object(h["a"])(Q,k,A,!1,null,"4658c262",null)),U=J.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home container"},[e._v("Merchabts")])},F=[],V={name:"Merchants",data:function(){return{}},mounted:function(){},beforeDestroy:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{},computed:{}},z=V,H=Object(h["a"])(z,W,F,!1,null,null,null),K=H.exports,$=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home container px-0 mx-0"},[n("input",{staticStyle:{width:"100%"},attrs:{id:"swipe",type:"range"}}),n("div",{staticClass:"map",attrs:{id:"map"}})])}],X={name:"Drivers",data:function(){var e=window.ol,t=null,n=null,r=new D.a(function(e,r){t=e,n=r});return{init:{initiated:e,runned:!1,resolveInitPromise:t,rejectInitPromise:n,initPromise:r}}},mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s,c,l,u,p,d,m,h,f,v,w,g,y,b,x;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initation();case 2:t=e.sent,n=t.Map,r=t.View,i=t.layer.Tile,a=t.proj.fromLonLat,o=t.control.defaults,s=t.control.MousePosition,c=t.coordinate.createStringXY,l=t.source.OSM,u=new s({coordinateFormat:c(4),projection:"EPSG:4326",className:"custom-mouse-position",target:document.getElementById("mouse-position"),undefinedHTML:"&nbsp;"}),p="http://mt.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",d="http://mt.google.com/vt/lyrs=s&hl=pl&&x={x}&y={y}&z={z}",m=new i({source:new l({url:p})}),h=new i({source:new l({url:d})}),f=document.getElementById("map"),v=new n({controls:o().extend([u]),layers:[m,h],target:f,view:new r({center:a([-.1318,50.845]),zoom:15,minZoom:6,maxZoom:28})}),w=document.getElementById("swipe"),w.addEventListener("input",function(){v.render()},!1),h.on("precompose",function(e){var t=e.context,n=t.canvas.width*(w.value/100);t.save(),t.beginPath(),t.rect(n,0,t.canvas.width-n,t.canvas.height),t.clip()}),h.on("postcompose",function(e){var t=e.context;if(t.restore(),y){for(var n=e.context,r=e.frameState.pixelRatio,i=g*r,a=y[0]*r,o=y[1]*r,s=a-i,c=o-i,l=2*i+1,u=n.getImageData(s,c,l,l).data,p=n.createImageData(l,l),d=p.data,m=0;m<l;++m)for(var h=0;h<l;++h){var f=h-i,v=m-i,w=Math.sqrt(f*f+v*v),b=h,x=m;w<i&&(b=Math.round(i+f/2),x=Math.round(i+v/2));var k=4*(m*l+h),A=4*(x*l+b);d[k]=u[A],d[k+1]=u[A+1],d[k+2]=u[A+2],d[k+3]=u[A+3]}n.beginPath(),n.arc(a,o,i,0,2*Math.PI),n.lineWidth=3*r,n.strokeStyle="rgba(255,255,255,0.5)",n.putImageData(p,s,c),n.stroke(),n.restore()}}),g=150,document.addEventListener("keydown",function(e){38===e.which?(g=Math.min(g+5,150),v.render(),e.preventDefault()):40===e.which&&(g=Math.max(g-5,25),v.render(),e.preventDefault())}),y=null,f.addEventListener("mousemove",function(e){y=v.getEventPixel(e),v.render()}),f.addEventListener("mouseout",function(){y=null,v.render()}),m.on("postcompose",function(e){if(y){for(var t=e.context,n=e.frameState.pixelRatio,r=g*n,i=y[0]*n,a=y[1]*n,o=i-r,s=a-r,c=2*r+1,l=t.getImageData(o,s,c,c).data,u=t.createImageData(c,c),p=u.data,d=0;d<c;++d)for(var m=0;m<c;++m){var h=m-r,f=d-r,v=Math.sqrt(h*h+f*f),w=m,b=d;v<r&&(w=Math.round(r+h/2),b=Math.round(r+f/2));var x=4*(d*c+m),k=4*(b*c+w);p[x]=l[k],p[x+1]=l[k+1],p[x+2]=l[k+2],p[x+3]=l[k+3]}t.beginPath(),t.arc(i,a,r,0,2*Math.PI),t.lineWidth=3*n,t.strokeStyle="rgba(255,255,255,0.5)",t.putImageData(u,o,s),t.stroke(),t.restore()}}),b=document.getElementById("projection"),b.addEventListener("change",function(e){u.setProjection(e.target.value)}),x=document.getElementById("precision"),x.addEventListener("change",function(e){var t=c(e.target.valueAsNumber);u.setCoordinateFormat(t)}),document.body.addEventListener("click",function(){document.getElementById("position").innerHTML=document.querySelector(".custom-mouse-position").innerHTML});case 33:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{initation:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.init,!t.initiated){e.next=3;break}return e.abrupt("return",new D.a(function(e){return e(t.initiated)}));case 3:if(!t.runned){e.next=5;break}return e.abrupt("return",t.initPromise);case 5:return t.runned=!0,n=document.querySelector("head"),r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",this.olcsspath||"https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css"),n.appendChild(r),i=document.createElement("script"),i.async=!0,i.defer=!0,i.src=this.oljspath||"https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js",a=function e(){if(!window.ol)return window.setTimeout(e,500);t.resolveInitPromise(window.ol)},i.onload=a,i.onerror=t.rejectInitPromise,n.appendChild(i),e.abrupt("return",t.initPromise);case 21:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{}},Y=X,G=(n("422b"),Object(h["a"])(Y,$,Z,!1,null,"4babc12f",null)),ee=G.exports;a["a"].use(x["a"]);var te=new x["a"]({routes:[{path:"/",name:"Dashboard",component:U,meta:{mainindex:1,keepAlive:!0}},{path:"/drivers",name:"Drivers",component:ee,meta:{mainindex:2,keepAlive:!0}},{path:"/merchants",name:"Merchants",component:K,meta:{mainindex:3,keepAlive:!0}}]}),ne=te;n("1449"),window.serverconfig=i;var re=n("b9b9");Date.prototype.format=function(e){return re(this,e)},window.toastr=n("854a"),window.toastr.options.preventDuplicates=!0;var ie=n("fe3c");ie.attach(document.body),n("8aa8"),a["a"].config.productionTip=!0,new a["a"]({router:ne,data:{user:null,datefilter:null,getdata:null,mainData:null},render:function(e){return e(b)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),i=n.n(r);i.a},"5e27":function(e,t,n){},7261:function(e,t,n){"use strict";var r=n("7f09"),i=n.n(r);i.a},"7f09":function(e,t,n){},"87b8":function(e,t,n){},"8aa8":function(e,t,n){"use strict";n.r(t);var r,i=n("795b"),a=n.n(i),o=n("f499"),s=n.n(o),c=(n("34ef"),n("a481"),n("14b9"),n("cadf"),n("551c"),n("f751"),n("097d"),n("9483")),l="BJIGTwPsHQ_J1Yg_9xbUDLnrz_jTq8-nDxuU3_nXPF7-DNU645CLMBsrm73g6HefM74RSTjtLr2upgWKQ30SFLk",u=null;function p(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length),a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}function d(e){window.localStorage.setItem("pushcre",s()(e)),window.location.reload(!0)}window.subscribeUser=function(){return new a.a(function(e){var t=p(l);u.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t}).then(function(t){d(t),e(t)}).catch(function(t){return console.log("Failed to subscribe the user: ",t),window.toastr.error("you should allow permission for push notification","Permission required!!!",{closeButton:!0,positionClass:"toast-top-full-width",timeOut:0,extendedTimeOut:0}),e(null)})})},window.propforinstall=null,Object(c["a"])("".concat("/map/","service-worker.js"),{registered:function(e){u=e}}),(window.navigator||{}).serviceWorker&&window.navigator.serviceWorker.ready.then(function(){window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),r=e,window.propforinstall=function(){r.prompt(),r.userChoice.then(function(e){"accepted"===e.outcome&&window.subscribeUser(),r=null})}})})},9180:function(e,t,n){},ab4a:function(e,t,n){},cafc:function(e,t,n){"use strict";var r=n("f968"),i=n.n(r);i.a},f968:function(e,t,n){}});